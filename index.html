<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-sm bg-light navbar-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img
            src="/assets/images/ba.jpg"
            alt="Avatar Logo"
            style="width: 40px"
            class="rounded-pill"
          />
        </a>
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="#">Makaleler</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="#">Yapılacaklar</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Albümler</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Kullanıcılar</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <div class="input-group mb-3 mt-3">
            <input type="text" class="form-control" placeholder="Search" />
            <button class="btn btn-success" type="submit">Ara</button>
          </div>
        </div>
      </div>
      <div class="row d-flex justify-content-center">
        <div class="col-4">
          <input
            type="text"
            class="form-control"
            placeholder="Yapılacak"
            name="text"
          />
        </div>
        <div class="col-2">
          <button class="btn btn-secondary">Ekle</button>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col">
          <ul class="list-group" id="todos">
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span>Item -1</span>

              <div class="d-flex align-items-center">
                <label class="form-check-label me-2" for="mySwitch"
                  ><b>Durum :</b>
                </label>
                <div class="form-check form-switch mb-0">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="mySwitch"
                    name="darkmode"
                    value="yes"
                    checked
                  />
                </div>
                <button class="btn btn-danger">Sil</button>
              </div>
            </li>

            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span>Item -2</span>

              <div class="d-flex align-items-center">
                <label class="form-check-label me-2" for="mySwitch"
                  ><b>Durum :</b>
                </label>
                <div class="form-check form-switch mb-0">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="mySwitch"
                    name="darkmode"
                    value="yes"
                    checked
                  />
                </div>
                <button class="btn btn-danger">Sil</button>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>

        // fetch('url').then((response) => response.json()).then((data) => {
        //     console.log('data', data);
        // })

        // fetch api js ile bu veri kaynağından veri çekmemizi sağlıyor.
        // ilk then çekilen veri farklı formatlarda xml json html vs olabileceği için onu js formatı olan json çeviriyoruz
        // ikinci then de ise json çevrilmiş olan verimizi yakalıyoruz.
        // eğer veri çekme işlemi sırasında bir hata meydana gelirse bu hata kodunuda catch ile yakalıyoruz.
        // https://jsonplaceholder.typicode.com/todos url verildiyse zaten data vardır.
      fetch("https://jsonplaceholder.typicode.com/todos")
        .then((response) => response.json())
        .then((json) => {

            // git bu json dizisi içerisinde foreach ile dön

            const todoListElement = document.getElementById('todos');


            // const array = [1,24,435,234];
            // const persons = [{name:'ali'},{name:'can'}]

            // for (let index = 0; index < array.length; index++) {
            //     const element = array[index];
                
            // }


            // for (const person of persons) {
            //     person.name
            // }


            // persons.forEach(person => {
            //     person.name
            // })

           

            json.forEach(todoItem => {

                // let check = '';

                // if(todoItem.completed == true)
                //     check = 'checked';
          
                // ${check}
                
              const listElement = `<li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span>${todoItem.title}</span>

              <div class="d-flex align-items-center">
                <label class="form-check-label me-2" for="mySwitch"
                  ><b>Durum :</b>
                </label>
                <div class="form-check form-switch mb-0">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="mySwitch"
                    name="darkmode"
                    value="yes"
                    ${todoItem.completed == true ? 'checked':''} 
               
                  />
                </div>
                <button class="btn btn-danger">Sil</button>
              </div>
            </li>`;

                todoListElement.innerHTML += listElement;

            });


            // yukarıdaki örnek bir ternary if kullanı yani duruma göre if else blokları ile string elementin değerini değiştiriyoruz.

        })
        .catch((error) => {
            alert('Hata oluştu !')
        }); // JSON javascript Object Notation


    </script>
  </body>
</html>
